import{T as v,m as w,j as u,b as e,f as i,v as n,u as o,n as r,t as d,y,F as g,z as x,e as k,q as E,d as S,H as B,o as p}from"./app-ece2a1fe.js";import{S as V}from"./sweetalert2.all-2d76b64b.js";/* empty css            */import"./app-82ed81c5.js";/* empty css                                                            */const C=["onSubmit"],F={class:"modal fade text-left",id:"inlineForm",tabindex:"-1","aria-labelledby":"myModalLabel33","aria-hidden":"true",style:{display:"none"}},M={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",role:"document"},P={class:"modal-content"},U=E('<div class="modal-header"><h4 class="modal-title" id="myModalLabel33">Edit</h4><button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div>',1),L={class:"modal-body"},N=e("h6",null,"Name",-1),T={class:"form-group"},j={class:"invalid-feedback"},D=e("h6",null,"Email",-1),z={class:"form-group"},I={class:"invalid-feedback"},O=e("h6",null,"Role",-1),q={class:"form-group"},A=e("option",{value:""},"Pilih...",-1),H=["value"],R={class:"invalid-feedback"},G=e("h6",null,"Password",-1),J={class:"form-group"},K={class:"invalid-feedback"},Q=e("h6",null,"Confirm Password",-1),W={class:"form-group"},X=e("div",{class:"alert alert-light-warning color-warning"},[e("i",{class:"bi bi-exclamation-triangle"}),S(" Untuk mengubah Password silahkan isi Password yang terbaru")],-1),Y={class:"modal-footer",style:{"background-color":"#f6f8fb"}},Z=e("button",{type:"button",class:"btn bg-white btn-outline-default border me-auto","data-bs-dismiss":"modal","aria-label":"Close"},[e("i",{class:"bx bx-x d-block d-sm-none"}),e("span",{class:"d-none d-sm-block"},"Close")],-1),$=["disabled"],ee=e("i",{class:"bx bx-check d-block d-sm-none"},null,-1),se=e("span",{class:"d-none d-sm-block"},"Simpan",-1),oe=[ee,se],ce={__name:"Edit",props:{roles:{type:Object},user:{type:Object},redrawDataTable:{type:Function}},setup(h){const l=h,{show:te,close:ae,redirect:_}=B();let c,m;const s=v({name:"",email:"",password:"",password_confirmation:"",role:""}),b=()=>{s.put(route("dashboard.users.update",{id:l.user.id}),{onFinish:()=>{s.reset("password","password_confirmation")},onSuccess:()=>{V.fire({title:"Berhasil disimpan!",icon:"success",showCloseButton:!0}),m.addEventListener("hidden.bs.modal",f=>{l.redrawDataTable()}),c.hide()}})};return w(()=>{l.user&&(s.name=l.user.name,s.email=l.user.email,l.user.roles.length>0&&(s.role=l.user.roles[0].id)),c=new bootstrap.Modal(document.getElementById("inlineForm")),c.show(),m=document.getElementById("inlineForm"),m.addEventListener("hidden.bs.modal",_)}),(f,a)=>(p(),u("form",{onSubmit:k(b,["prevent"]),autocomplete:"off",novalidate:""},[e("div",F,[e("div",M,[e("div",P,[U,e("div",L,[N,e("div",T,[i(e("input",{id:"name",type:"text",placeholder:"Name",class:r(["form-control",{"is-invalid":o(s).errors.name}]),"onUpdate:modelValue":a[0]||(a[0]=t=>o(s).name=t),autocomplete:"off"},null,2),[[n,o(s).name]]),e("div",j,d(o(s).errors.name),1)]),D,e("div",z,[i(e("input",{id:"email",type:"text",placeholder:"Email Address",class:r(["form-control",{"is-invalid":o(s).errors.email}]),"onUpdate:modelValue":a[1]||(a[1]=t=>o(s).email=t),autocomplete:"off"},null,2),[[n,o(s).email]]),e("div",I,d(o(s).errors.email),1)]),O,e("fieldset",q,[i(e("select",{class:r(["form-select",{"is-invalid":o(s).errors.role}]),id:"role","onUpdate:modelValue":a[2]||(a[2]=t=>o(s).role=t)},[A,(p(!0),u(g,null,x(h.roles,t=>(p(),u("option",{value:t.id,key:t.id},d(t.display_name),9,H))),128))],2),[[y,o(s).role]]),e("div",R,d(o(s).errors.role),1)]),G,e("div",J,[i(e("input",{id:"password",type:"password",placeholder:"Password",class:r(["form-control",{"is-invalid":o(s).errors.password}]),"onUpdate:modelValue":a[3]||(a[3]=t=>o(s).password=t),autocomplete:"off"},null,2),[[n,o(s).password]]),e("div",K,d(o(s).errors.password),1)]),Q,e("div",W,[i(e("input",{id:"confirm-password",type:"password",placeholder:"Password",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=t=>o(s).password_confirmation=t),autocomplete:"off"},null,512),[[n,o(s).password_confirmation]])]),X]),e("div",Y,[Z,e("button",{type:"submit",class:"btn btn-primary ms-1",disabled:o(s).processing},oe,8,$)])])])])],40,C))}};export{ce as default};
