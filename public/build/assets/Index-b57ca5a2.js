/* empty css                               *//* empty css                */import{S as c}from"./sweetalert2.all-2d76b64b.js";import{_ as b}from"./AuthenticatedLayout-b17846c8.js";import{s as f,m as k,c as v,w as u,o,a as n,u as i,Z as g,b as e,d as w,i as j,j as m,z as x,t as y,F as D,N as B,O as S}from"./app-ece2a1fe.js";/* empty css            */import"./app-82ed81c5.js";import"./ApplicationLogo-d59423bd.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                            */const P={class:"page-heading mb-2"},N={class:"page-title"},C={class:"row"},T=e("div",{class:"col-12 col-md-6 order-md-1 order-last"},[e("h3",null,"Data Serikat Pekerja"),e("p",{class:"text-subtitle text-muted"}," Daftar lengkap Serikat Pekerja yang terdaftar dalam sistem. ")],-1),I={class:"col-12 col-md-6 order-md-2 order-first"},F={"aria-label":"breadcrumb",class:"breadcrumb-header float-start float-lg-end"},M={class:"breadcrumb"},A={class:"breadcrumb-item"},E=e("li",{class:"breadcrumb-item active","aria-current":"page"}," Data Serikat Pekerja ",-1),L={class:"page-content"},O={class:"row"},V={class:"col-12"},K={class:"row g-3 mb-2"},Y={class:"col-md-4"},q={class:"choices",name:"id_perusahaan",id:"id_perusahaan"},z=e("option",{value:""},"Semua Perusahaan...",-1),G=["value"],U=e("div",{class:"card"},[e("div",{class:"card-header"},[e("div",{class:"d-flex justify-content-between"},[e("h5",{class:"card-title"}," Data Serikat Pekerja ")])]),e("div",{class:"card-body"},[e("div",{class:"table-responsive datatable-minimal"},[e("table",{class:"table",id:"table-users"},[e("thead",null,[e("tr",null,[e("th",null,"Perusahaan"),e("th",null,"Nama Serikat Pekerja"),e("th",null,"No Pencatatan"),e("th",null,"Tanggal Pencatatan"),e("th",null,"Nama Ketua"),e("th",null,"No. Telp Ketua"),e("th",null,"Action")])]),e("tbody")])])])],-1),se={__name:"Index",props:{perusahaan:{type:Object}},setup(h){f();let r;const p=()=>{$(document).on("click",".edit-link",function(a){a.preventDefault();const t=$(this).data("user-id");S.get(route("dashboard.serikat-pekerja.edit",{id:t}),{},{preserveState:!0})}),$(document).on("click",".delete-link",function(a){a.preventDefault();const t=$(this).data("user-id");c.fire({title:"Yakin ingin menghapus?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",cancelButtonColor:"#d33",reverseButtons:!0}).then(s=>{s.isConfirmed&&axios.delete(route("dashboard.serikat-pekerja.destroy",{id:t})).then(d=>{c.fire("Berhasil dihapus!","","success"),r.ajax.reload(null,!1)}).catch(d=>{console.error("Failed to delete user:",d)})})})},l=()=>{r&&r.ajax.reload(null,!1)},_=async()=>{try{r=$("#table-users").DataTable({responsive:!0,lengthMenu:[[5,10,50,-1],[5,10,50,"All"]],ajax:{url:route("dashboard.serikat-pekerja.loadSerikatPekerja"),data:function(a){a.id_perusahaan=$("#id_perusahaan").val()}},columns:[{data:"perusahaan.nama"},{data:"nama_serikat"},{data:"nomor_serikat"},{data:"tanggal_serikat"},{data:"nama_ketua_serikat"},{data:"notelp_ketua_serikat"},{data:null,render:function(a,t,s){return`
                            <div class="dropdown">
                                <button class="btn btn-sm btn-icon btn-default me-1" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa-solid fa-ellipsis-vertical"></i>
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item edit-link" href="#" data-user-id="${s.id}">Edit</a>
                                    <a class="dropdown-item delete-link" href="#" data-user-id="${s.id}">Delete</a>
                                </div>
                            </div>
                        `}}]}),p()}catch(a){console.error("Gagal memuat data:",a)}};return k(()=>{_();let a=document.querySelectorAll(".choices");for(let t=0;t<a.length;t++)a[t].classList.contains("multiple-remove")?new Choices(a[t],{delimiter:",",editItems:!0,maxItemCount:-1,removeItemButton:!0}):new Choices(a[t])}),(a,t)=>(o(),v(b,null,{default:u(()=>[n(i(g),{title:"Data Serikat Pekerja"}),e("div",P,[e("div",N,[e("div",C,[T,e("div",I,[e("nav",F,[e("ol",M,[e("li",A,[n(i(j),{href:a.route("dashboard.index")},{default:u(()=>[w("Dashboard")]),_:1},8,["href"])]),E])])])])])]),e("div",L,[e("section",O,[e("div",V,[e("form",K,[e("div",Y,[e("select",q,[z,(o(!0),m(D,null,x(h.perusahaan,s=>(o(),m("option",{value:s.id,key:s.id},y(s.nama),9,G))),128))])]),e("div",{class:"col-auto"},[e("button",{type:"button",class:"btn btn-primary mb-3 mt-1",onClick:l},"Filter")])]),U])])]),n(i(B),{redrawDataTable:l})]),_:1}))}};export{se as default};
