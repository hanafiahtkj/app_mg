import{s as F,T as S,m as M,j as c,b as a,f as i,A as v,n as p,u as t,v as u,t as _,d as f,l as g,e as T,q as V,H as D,o as m}from"./app-ece2a1fe.js";/* empty css                               *//* empty css                      *//* empty css                              */const N=["onSubmit"],j={class:"modal fade text-left",id:"inlineForm",tabindex:"-1","aria-labelledby":"myModalLabel33","aria-hidden":"true",style:{display:"none"}},A={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg",role:"document"},E={class:"modal-content"},U=V('<div class="modal-header"><h4 class="modal-title" id="myModalLabel33">Create</h4><button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div>',1),K={class:"modal-body"},L={class:"row"},I=a("div",{class:"col-12"},[a("div",{class:"table-responsive datatable-minimal"},[a("table",{class:"table table-hover",id:"table-data",style:{width:"100%"}},[a("thead",null,[a("tr",null,[a("th",null,"Nomor SK Pengesahan PP"),a("th",null,"Tanggal Pengesahan PP"),a("th",null,"Mulai Berlaku PP"),a("th",null,"Akhir Berlaku PP")])]),a("tbody")])])],-1),q=[I],z={class:"row"},G={class:"col-md-6 col-12"},H=a("h6",null,"Nomor SK Pengesahan PP",-1),Y={class:"form-group"},J={class:"invalid-feedback"},O={class:"col-md-6 col-12"},Q=a("h6",null,"Tanggal Pengesahan PP",-1),R={class:"form-group"},W={class:"invalid-feedback"},X={class:"col-md-6 col-12"},Z=a("h6",null,"Mulai Berlaku PP",-1),aa={class:"form-group"},ea={class:"invalid-feedback"},ta={class:"col-md-6 col-12"},oa=a("h6",null,"Akhir Berlaku PP",-1),sa={class:"form-group"},la={class:"invalid-feedback"},na={class:"modal-footer",style:{"background-color":"#f6f8fb"}},ia=a("button",{type:"button",class:"btn bg-white btn-outline-default border me-auto","data-bs-dismiss":"modal","aria-label":"Close"},[a("i",{class:"bx bx-x d-block d-sm-none"}),a("span",{class:"d-none d-sm-block"},"Close")],-1),ra=a("i",{class:"fa-fw select-all fas"},"",-1),da=a("i",{class:"fa-fw select-all fas"},"",-1),ca=["disabled"],pa=a("i",{class:"fa-fw select-all fas"},"",-1),ka={__name:"Create",props:{idPerusahaan:Number,parentFunction:{type:Function}},setup(y){const r=y,{show:ua,close:_a,redirect:P}=D(),l=F(!1);let d,h,k;const e=S({id_perusahaan:r.idPerusahaan??"",nomor_sk_pengesahan_pp:null,tanggal_pengesahan_pp:null,mulai_berlaku_pp:null,akhir_berlaku_pp:null}),w=()=>{e.post(route("dashboard.pp.store"),{preserveScroll:!0,onFinish:()=>{},onSuccess:()=>{d.ajax.reload(null,!1),b()}})},x=async()=>{try{let n=route("dashboard.pp.loadData");r.idPerusahaan&&(n=n+`?id_perusahaan=${r.idPerusahaan}`),d=$("#table-data").DataTable({select:!0,responsive:!0,pagingType:"simple",lengthMenu:[[5,10,50,-1],[5,10,50,"All"]],ajax:{url:n},columns:[{data:"nomor_sk_pengesahan_pp"},{data:"tanggal_pengesahan_pp"},{data:"mulai_berlaku_pp"},{data:"akhir_berlaku_pp"}]}),d.on("select",function(o,s,ma,B){let C=d.rows(B).data();r.parentFunction(C[0],"setPps"),h.hide()})}catch(n){console.error("Gagal memuat data:",n)}},b=()=>{l.value=!l.value};return M(()=>{h=new bootstrap.Modal(document.getElementById("inlineForm")),h.show(),k=document.getElementById("inlineForm"),k.addEventListener("hidden.bs.modal",P),flatpickr(".flatpickr-no-config",{dateFormat:"Y-m-d"}),x()}),(n,o)=>(m(),c("form",{onSubmit:T(w,["prevent"]),autocomplete:"off",novalidate:""},[a("div",j,[a("div",A,[a("div",E,[U,a("div",K,[i(a("div",L,q,512),[[v,!l.value]]),i(a("div",z,[a("div",G,[H,a("div",Y,[i(a("input",{type:"text",class:p(["form-control",{"is-invalid":t(e).errors.nomor_sk_pengesahan_pp}]),"onUpdate:modelValue":o[0]||(o[0]=s=>t(e).nomor_sk_pengesahan_pp=s)},null,2),[[u,t(e).nomor_sk_pengesahan_pp]]),a("div",J,_(t(e).errors.nomor_sk_pengesahan_pp),1)])]),a("div",O,[Q,a("div",R,[i(a("input",{type:"text",class:p(["form-control flatpickr-no-config flatpickr-input",{"is-invalid":t(e).errors.tanggal_pengesahan_pp}]),"onUpdate:modelValue":o[1]||(o[1]=s=>t(e).tanggal_pengesahan_pp=s),autocomplete:"off"},null,2),[[u,t(e).tanggal_pengesahan_pp]]),a("div",W,_(t(e).errors.tanggal_pengesahan_pp),1)])]),a("div",X,[Z,a("div",aa,[i(a("input",{type:"text",class:p(["form-control flatpickr-no-config flatpickr-input",{"is-invalid":t(e).errors.mulai_berlaku_pp}]),"onUpdate:modelValue":o[2]||(o[2]=s=>t(e).mulai_berlaku_pp=s),autocomplete:"off"},null,2),[[u,t(e).mulai_berlaku_pp]]),a("div",ea,_(t(e).errors.mulai_berlaku_pp),1)])]),a("div",ta,[oa,a("div",sa,[i(a("input",{type:"text",class:p(["form-control flatpickr-no-config flatpickr-input",{"is-invalid":t(e).errors.akhir_berlaku_pp}]),"onUpdate:modelValue":o[3]||(o[3]=s=>t(e).akhir_berlaku_pp=s),autocomplete:"off"},null,2),[[u,t(e).akhir_berlaku_pp]]),a("div",la,_(t(e).errors.akhir_berlaku_pp),1)])])],512),[[v,l.value]])]),a("div",na,[ia,l.value?g("",!0):(m(),c("button",{key:0,type:"button",class:"btn btn-primary ms-1",onClick:o[4]||(o[4]=s=>b())},[ra,f(" Tambah Data ")])),l.value?(m(),c("button",{key:1,type:"button",class:"btn btn-light ms-1",onClick:o[5]||(o[5]=s=>b())},[da,f(" Kembali ")])):g("",!0),l.value?(m(),c("button",{key:2,type:"submit",class:"btn btn-primary ms-1",disabled:t(e).processing},[pa,f(" Simpan ")],8,ca)):g("",!0)])])])])],40,N))}};export{ka as default};
