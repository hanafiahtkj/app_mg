/* empty css                               */import{S as i}from"./sweetalert2.all-2d76b64b.js";import{_ as p}from"./AuthenticatedLayout-b17846c8.js";import{s as _,m as b,c as f,w as n,o as v,a as o,u as d,Z as g,b as e,d as w,i as c,N as x,O as y}from"./app-ece2a1fe.js";/* empty css            */import"./app-82ed81c5.js";import"./ApplicationLogo-d59423bd.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                            */const D={class:"page-heading mb-2"},B={class:"page-title"},k={class:"row"},U=e("div",{class:"col-12 col-md-6 order-md-1 order-last"},[e("h3",null,"Data User"),e("p",{class:"text-subtitle text-muted"}," Daftar lengkap pengguna yang terdaftar dalam sistem. ")],-1),N={class:"col-12 col-md-6 order-md-2 order-first"},T={"aria-label":"breadcrumb",class:"breadcrumb-header float-start float-lg-end"},C={class:"breadcrumb"},j={class:"breadcrumb-item"},M=e("li",{class:"breadcrumb-item active","aria-current":"page"}," Data User ",-1),S={class:"page-content"},E={class:"row"},I={class:"col-12"},V={class:"card"},A={class:"card-header"},O={class:"d-flex justify-content-between"},Y=e("h5",{class:"card-title"}," Data User ",-1),F=e("i",{class:"fa-fw select-all fas"},"",-1),G=e("div",{class:"card-body"},[e("div",{class:"table-responsive datatable-minimal"},[e("table",{class:"table",id:"table-users"},[e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Role"),e("th",null,"Status"),e("th",null,"Action")])]),e("tbody")])])],-1),W={__name:"Index",props:{},setup(L){_();let r;const u=()=>{$(document).on("click",".edit-link",function(a){a.preventDefault();const t=$(this).data("user-id");y.get(route("dashboard.users.edit",{id:t}),{},{preserveState:!0})}),$(document).on("click",".delete-link",function(a){a.preventDefault();const t=$(this).data("user-id");i.fire({title:"Yakin ingin menghapus?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",cancelButtonColor:"#d33",reverseButtons:!0}).then(s=>{s.isConfirmed&&axios.delete(route("dashboard.users.destroy",{id:t})).then(l=>{i.fire("Berhasil dihapus!","","success"),r.ajax.reload(null,!1)}).catch(l=>{console.error("Failed to delete user:",l)})})})},h=()=>{r&&r.ajax.reload(null,!1)},m=async()=>{try{r=$("#table-users").DataTable({responsive:!0,lengthMenu:[[5,10,50,-1],[5,10,50,"All"]],ajax:{url:route("dashboard.users.loadUsers")},columns:[{data:"name"},{data:"email"},{data:"roles[0].display_name"},{data:"email_verified_at",render:function(a,t,s){return a?'<span class="badge bg-success">Confirmed</span>':'<span class="badge bg-warning">Unconfirmed</span>'}},{data:null,render:function(a,t,s){return`
                            <div class="dropdown">
                                <button class="btn btn-sm btn-icon btn-default me-1" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa-solid fa-ellipsis-vertical"></i>
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item edit-link" href="#" data-user-id="${s.id}">Edit</a>
                                    <a class="dropdown-item delete-link" href="#" data-user-id="${s.id}">Delete</a>
                                </div>
                            </div>
                        `}}]}),u()}catch(a){console.error("Gagal memuat data pengguna:",a)}};return b(()=>{m()}),(a,t)=>(v(),f(p,null,{default:n(()=>[o(d(g),{title:"Users"}),e("div",D,[e("div",B,[e("div",k,[U,e("div",N,[e("nav",T,[e("ol",C,[e("li",j,[o(d(c),{href:a.route("dashboard.index")},{default:n(()=>[w("Dashboard")]),_:1},8,["href"])]),M])])])])])]),e("div",S,[e("section",E,[e("div",I,[e("div",V,[e("div",A,[e("div",O,[Y,o(d(c),{href:a.route("dashboard.users.create"),"preserve-state":!0,class:"btn icon btn-primary"},{default:n(()=>[F]),_:1},8,["href"])])]),G])])])]),o(d(x),{redrawDataTable:h})]),_:1}))}};export{W as default};
