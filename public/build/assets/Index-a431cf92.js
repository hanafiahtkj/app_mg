/* empty css                               */import{S as n}from"./sweetalert2.all-2d76b64b.js";import{_ as m}from"./AuthenticatedLayout-b17846c8.js";import{s as _,m as b,c as f,w as l,o as v,a as r,u as d,Z as w,b as e,d as g,i as c,N as x,O as y}from"./app-ece2a1fe.js";/* empty css            */import"./app-82ed81c5.js";import"./ApplicationLogo-d59423bd.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                            */const D={class:"page-heading mb-2"},B={class:"page-title"},k={class:"row"},N=e("div",{class:"col-12 col-md-6 order-md-1 order-last"},[e("h3",null,"Daftar Role"),e("p",{class:"text-subtitle text-muted"}," Powerful interactive tables with datatables (jQuery required). ")],-1),T={class:"col-12 col-md-6 order-md-2 order-first"},j={"aria-label":"breadcrumb",class:"breadcrumb-header float-start float-lg-end"},C={class:"breadcrumb"},M={class:"breadcrumb-item"},R=e("li",{class:"breadcrumb-item active","aria-current":"page"}," Daftar Role ",-1),I={class:"page-content"},S={class:"row"},V={class:"col-12"},A={class:"card"},E={class:"card-header"},O={class:"d-flex justify-content-between"},U=e("h5",{class:"card-title"}," Daftar Role ",-1),Y=e("i",{class:"fa-fw select-all fas"},"",-1),q=e("div",{class:"card-body"},[e("div",{class:"table-responsive datatable-minimal"},[e("table",{class:"table",id:"table-roles"},[e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Display Name"),e("th",null,"Description"),e("th",null,"Action")])]),e("tbody")])])],-1),W={__name:"Index",props:{},setup(F){_();let s;const u=()=>{$(document).on("click",".edit-link",function(t){t.preventDefault();const a=$(this).data("user-id");y.get(route("dashboard.roles.edit",{id:a}),{},{preserveState:!0})}),$(document).on("click",".delete-link",function(t){t.preventDefault();const a=$(this).data("user-id");n.fire({title:"Yakin ingin menghapus?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",cancelButtonColor:"#d33",reverseButtons:!0}).then(o=>{o.isConfirmed&&axios.delete(route("dashboard.roles.destroy",{id:a})).then(i=>{n.fire("Berhasil dihapus!","","success"),s.ajax.reload(null,!1)}).catch(i=>{console.error("Failed to delete user:",i)})})})},h=()=>{s&&s.ajax.reload(null,!1)},p=async()=>{try{s=$("#table-roles").DataTable({responsive:!0,lengthMenu:[[5,10,50,-1],[5,10,50,"All"]],ajax:{url:route("dashboard.roles.loadRoles")},columns:[{data:"name"},{data:"display_name"},{data:"description"},{data:null,render:function(t,a,o){return`
                            <div class="dropdown">
                                <button class="btn btn-sm btn-icon btn-default me-1" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa-solid fa-ellipsis-vertical"></i>
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item edit-link" href="#" data-user-id="${o.id}">Edit</a>
                                    <a class="dropdown-item delete-link" href="#" data-user-id="${o.id}">Delete</a>
                                </div>
                            </div>
                        `}}]}),u()}catch(t){console.error("Gagal memuat data pengguna:",t)}};return b(()=>{p()}),(t,a)=>(v(),f(m,null,{default:l(()=>[r(d(w),{title:"Users"}),e("div",D,[e("div",B,[e("div",k,[N,e("div",T,[e("nav",j,[e("ol",C,[e("li",M,[r(d(c),{href:t.route("dashboard.index")},{default:l(()=>[g("Dashboard")]),_:1},8,["href"])]),R])])])])])]),e("div",I,[e("section",S,[e("div",V,[e("div",A,[e("div",E,[e("div",O,[U,r(d(c),{href:t.route("dashboard.roles.create"),"preserve-state":!0,class:"btn icon btn-primary"},{default:l(()=>[Y]),_:1},8,["href"])])]),q])])])]),r(d(x),{redrawDataTable:h})]),_:1}))}};export{W as default};
